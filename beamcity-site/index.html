<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BeamTown - –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π Discord!</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
/* --- –°–¢–ò–õ–ò CSS --- */

body, html { margin:0; padding:0; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; overflow-x:hidden; height:100%; background:#0a0a1a; color:#fff; }

/* --- –û–±—â–∏–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Å—Ç–∏–ª–∏ --- */
body {
    background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364); 
    background-size: cover;
    background-attachment: fixed;
    position: relative;
}

/* –≠—Ñ—Ñ–µ–∫—Ç –ø–∞–¥–∞—é—â–µ–≥–æ —Å–Ω–µ–≥–∞ (—Ñ–æ–Ω–æ–≤—ã–π, –æ—Å—Ç–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞) */
.snowflake {
  color: #fff;
  font-size: 1em;
  font-family: Arial, sans-serif;
  text-shadow: 0 0 5px #000;
  position: fixed;
  top: -10%;
  z-index: 9999;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  cursor: default;
  animation-name: snowfall;
  animation-duration: 10s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}
@keyframes snowfall {
  0% { top: -10%; }
  100% { top: 100%; }
}

/* ------------------------------------------- */
/* --- –°–¢–ò–õ–ò –î–õ–Ø –ú–ï–¢–ï–õ–ò (–°–ù–ï–ñ–ù–û–ì–û –ü–ï–†–ï–•–û–î–ê) --- */
/* ------------------------------------------- */
#snow-transition {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    z-index: 2000;
    pointer-events: none;
    background: transparent;
    transition: opacity 0.3s ease-out;
}
#snow-transition.active {
    opacity: 1;
    pointer-events: auto;
    background: #ffffff; 
    transition: opacity 0s; 
}
#snow-transition.fade-out {
    opacity: 0 !important;
    transition: opacity 1s ease-out 0.2s; 
}

/* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å–Ω–µ–∂–∏–Ω–æ–∫ –¥–ª—è –º–µ—Ç–µ–ª–∏ */
.blizzard-flake {
    position: absolute;
    color: #000; 
    font-size: 4em; 
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
    opacity: 0; 
    animation: blizzard-fall 4s linear forwards; 
}

@keyframes blizzard-fall {
    0% {
        transform: translate(-10vw, -100vh) scale(0.5); 
        opacity: 0;
    }
    10% {
        opacity: 1; 
    }
    100% {
        transform: translate(30vw, 100vh) scale(1.2); 
        opacity: 0; 
    }
}
/* ------------------------------------------- */
/* --- –ö–æ–Ω–µ—Ü –°–¢–ò–õ–ï–ô –î–õ–Ø –ú–ï–¢–ï–õ–ò --- */
/* ------------------------------------------- */

/* --- –°–¢–ò–õ–ò –†–ï–ì–£–õ–ò–†–û–í–ö–ò –ó–í–£–ö–ê --- */
.volume-control {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    align-items: center;
    background: rgba(0, 0, 0, 0.5);
    padding: 10px 15px;
    border-radius: 10px;
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}
.volume-control button {
    background: none;
    border: none;
    color: #fff;
    font-size: 1.5em;
    cursor: pointer;
    margin-right: 10px;
    transition: color 0.3s;
    line-height: 1;
}
.volume-control button:hover {
    color: #00ffcc;
}
.volume-control input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    width: 100px;
    height: 8px;
    background: #555;
    border-radius: 5px;
    outline: none;
    transition: opacity .2s;
}
.volume-control input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: #00ffcc;
    cursor: pointer;
}
.volume-control input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: #00ffcc;
    cursor: pointer;
    border: none;
}
/* --- –ö–û–ù–ï–¶ –°–¢–ò–õ–ï–ô –†–ï–ì–£–õ–ò–†–û–í–ö–ò –ó–í–£–ö–ê --- */


/* --- Overlay —Å —Ç–µ—Ö—Ä–∞–±–æ—Ç–∞–º–∏ --- */
#overlay { 
    position:fixed; 
    top:0; 
    left:0; 
    width:100%; 
    height:100%; 
    background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364); 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    justify-content:center; 
    text-align:center; 
    z-index:1000;
    transition: opacity 0.7s ease-out; /* –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ */
}
#overlay .logo { 
    font-size:3em; 
    font-weight:bold; 
    color:#00ffcc; 
    text-shadow:0 0 40px #00ffcc,0 0 80px #33ccff; 
    animation:pulse 2s infinite; 
    margin-bottom:20px; 
    padding: 0; 
    border-radius: 0;
    background: transparent; 
}
@keyframes pulse {0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}
#overlay .loading-line { font-size:1.3em; margin:5px 0; opacity:0; transition: opacity 0.3s; color:#e0f7fa; }
#overlay .loading-line.show { opacity:1; }
#overlay .dots { display:inline-block; animation: blink 1s infinite; }
@keyframes blink {0%,50%,100%{opacity:0;}25%,75%{opacity:1;}}

/* --- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç --- */
#main { display:none; }
canvas#bg { position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1; }
header { text-align:center; padding:120px 20px 80px; color:#fff; text-shadow:0 0 15px #e0f7fa; perspective:1000px; }
header .logo { 
    width: auto; 
    height: auto; 
    padding: 15px 40px; 
    margin:0 auto 25px; 
    border-radius:50px; 
    display:inline-flex; 
    align-items:center; 
    justify-content:center; 
    font-size:2.5em; 
    font-weight:bold; 
    background: radial-gradient(circle,#00ffcc,#33ccff); 
    box-shadow:0 0 50px #00ffcc,0 0 80px #33ccff; 
    animation: pulse 2s infinite; 
    letter-spacing: 3px; 
}
@keyframes pulse {0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}
h1 { font-size:3.2em; margin-bottom:15px; text-transform:uppercase; letter-spacing:2px; color:#e0f7fa; }
p { font-size:1.2em; max-width:700px; margin:0 auto 50px; opacity:0.9; line-height:1.5em; color:#cfe8fc; }

.countdown {
    margin-top: 20px;
    font-size: 2em;
    font-weight: bold;
    color: #ff6b6b;
    text-shadow: 0 0 20px rgba(255, 107, 107, 0.8), 0 0 10px rgba(255, 107, 107, 0.5);
    display: flex;
    justify-content: center;
    gap: 15px;
    letter-spacing: 1px;
}
.countdown div {
    text-align: center;
    padding: 10px 15px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px solid rgba(255, 107, 107, 0.5);
}
.countdown span {
    display: block;
    font-size: 0.4em;
    font-weight: normal;
    color: #cfe8fc;
    margin-top: 5px;
}

.section { max-width:850px; margin:50px auto; text-align:center; color:#e0f7fa; display:flex; flex-direction:column; gap:25px; }
.card { background:rgba(255,255,255,0.1); padding:25px; border-radius:20px; box-shadow:0 0 30px rgba(0,255,204,0.3); transition: transform 0.3s, box-shadow 0.3s; border: 1px solid rgba(255,255,255,0.2); }
.card:hover { transform: translateY(-10px) scale(1.02); box-shadow:0 0 50px rgba(0,255,204,0.6); }

.main-buttons {
    display: flex;
    justify-content: center; 
    align-items: center;
    gap: 20px;
    margin-top: 20px; 
    flex-wrap: wrap;
    max-width: 900px; 
    margin-left: auto;
    margin-right: auto;
}
.btn { 
    flex-grow: 1; 
    min-width: 250px; 
    padding:18px 35px; 
    color:#fff; 
    font-weight:bold; 
    border-radius:50px; 
    text-decoration:none; 
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    box-shadow:0 0 15px rgba(103, 58, 183, 0.7); 
    border: none;
    cursor: pointer;
    font-size: 1.1em; 
    text-align: center;
    display: inline-flex; 
    align-items: center;
    justify-content: center;
    gap: 10px;
}
.btn-discord {
    background:#673ab7; 
}
.btn-discord:hover {
    transform:translateY(-5px) scale(1.05); 
    background:#512da8; 
    box-shadow:0 0 30px rgba(103, 58, 183, 1), 0 10px 20px rgba(0,0,0,0.2); 
}
.btn-quiz {
    background: #FF5722; 
    box-shadow: 0 0 15px rgba(255, 87, 34, 0.7); 
}
.btn-quiz:hover {
    transform:translateY(-5px) scale(1.05); 
    background:#E64A19; 
    box-shadow:0 0 30px rgba(255, 87, 34, 1), 0 10px 20px rgba(0,0,0,0.2); 
}

footer { text-align:center; padding:20px; background:rgba(0,0,0,0.6); color:#b0bec5; margin-top:40px; }

.social-links {
    margin: 15px 0 10px;
    display: flex;
    justify-content: center;
    gap: 20px;
}
.social-link {
    text-decoration: none;
    font-size: 1.1em;
    font-weight: bold;
    padding: 10px 20px;
    border-radius: 8px;
    transition: transform 0.3s, opacity 0.3s;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}
.social-link:hover {
    transform: translateY(-3px);
    opacity: 0.9;
}
.vk-link {
    background: #4a76a8; 
    color: white;
}
.tg-link {
    background: #0088cc; 
    color: white;
}
.social-icon { 
    font-size: 1.3em; 
    line-height: 1; 
}

.fade-up { opacity:0; transform:translateY(30px); animation: fadeUp 1s forwards; }
@keyframes fadeUp { to {opacity:1; transform:translateY(0);} }
.under-construction { background:rgba(255,100,100,0.15); border:2px dashed #ff6b6b; padding:25px; border-radius:20px; font-size:1.2em; color:#ff6b6b; animation: pulseText 2s infinite; }
@keyframes pulseText {0%,100%{opacity:1;}50%{opacity:0.6;}}

.grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 20px;
    text-align: left;
}
.grid-item {
    background: rgba(45, 45, 70, 0.9);
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0, 217, 255, 0.2);
    border-left: 5px solid #00ffcc;
    transition: all 0.3s;
}
.grid-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 35px rgba(0, 217, 255, 0.4);
}
.grid-item h3 {
    color: #00ffcc;
    font-size: 1.3em;
    margin-top: 0;
}
.grid-item p {
    font-size: 0.95em;
    margin: 0;
    line-height: 1.4;
    color: #cfe8fc;
}

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1001;
    backdrop-filter: blur(5px);
    opacity: 0;
    transition: opacity 0.7s ease-out; 
    transform: scale(0.8);
}
.modal-overlay.show {
    display: flex;
    opacity: 1;
    transform: scale(1);
}
.modal-content {
    background: #1e3a4e; 
    padding: 40px;
    border-radius: 15px;
    text-align: center;
    max-width: 450px;
    box-shadow: 0 0 60px rgba(100, 255, 255, 0.6); 
    border: 1px solid #99ffff; 
    max-height: 90vh; 
    overflow-y: auto;
    position: relative; 
}

/* –°–¢–ò–õ–¨ –ö–†–ï–°–¢–ò–ö–ê */
.close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    border: none;
    color: #ff6b6b; 
    font-size: 2em;
    font-weight: bold;
    cursor: pointer;
    line-height: 1;
    padding: 0;
    transition: transform 0.3s, color 0.3s;
}
.close-btn:hover {
    color: #ff3333;
    transform: rotate(90deg);
}

.modal-content h2 {
    color: #00ffcc;
    margin-top: 0;
    margin-bottom: 25px;
}
.modal-content h3 {
    color: #e0f7fa;
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 1.3em;
}

.options-container button {
    display: block;
    width: 100%;
    padding: 15px 20px;
    margin-bottom: 15px;
    background: #006080; 
    color: #fff;
    font-weight: bold;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease-in-out; 
    font-size: 1.1em;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}
.options-container button:hover:not(.disabled) {
    background: #008cba; 
    transform: translateY(-3px) scale(1.02); 
    box-shadow: 0 6px 15px rgba(0, 140, 186, 0.5); 
}

.quiz-options button.correct {
    background: #4CAF50; 
    box-shadow: 0 0 15px rgba(76, 175, 80, 0.8);
    transform: scale(1.05);
}
.quiz-options button.incorrect {
    background: #F44336; 
    box-shadow: 0 0 15px rgba(244, 67, 54, 0.8);
}
.quiz-options button.disabled {
    cursor: default;
    opacity: 0.6;
}

#next-quiz-btn {
    margin-top: 20px;
    padding: 12px 30px;
    font-size: 1em;
    background: #00ffcc; 
    color: #1e3a4e;
    font-weight: bold;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s;
    display: none;
}
#next-quiz-btn:hover {
    background: #33ccff;
    transform: scale(1.05);
}

/* –°–¢–ò–õ–¨ –ö–ù–û–ü–ö–ò –ü–û–î–ê–†–ö–ê */
.btn-gift {
    background: linear-gradient(135deg, #FF6F00 0%, #FFB300 100%); 
    color: #1a1a1a;
    box-shadow: 0 0 15px rgba(255, 111, 0, 0.7); 
}
.btn-gift:hover {
    transform:translateY(-5px) scale(1.05); 
    background: linear-gradient(135deg, #E65100 0%, #FF6F00 100%); 
    box-shadow:0 0 30px rgba(255, 111, 0, 1), 0 10px 20px rgba(0,0,0,0.2); 
}

/* –°–¢–ò–õ–ò: –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–´–ô –ì–†–ê–î–ò–ï–ù–¢ –î–õ–Ø –õ–û–ì–û–¢–ò–ü–ê */
header .logo.animated {
    background: linear-gradient(135deg, #00ffcc, #33ccff, #ff6b6b, #00ffcc);
    background-size: 400% 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradient-flow 5s ease infinite, pulse 2s infinite; 
    box-shadow: none !important; 
}
.logo.animated:hover {
    animation-play-state: running;
}
@keyframes gradient-flow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
</style>
</head>
<body onload="initPage()">

<div id="snow-transition"></div>

<div class="volume-control">
    <button id="mute-btn" onclick="toggleMute()"><i class="fas fa-volume-mute"></i></button>
    <input type="range" id="volume-slider" min="0" max="100" value="30">
</div>
<div id="survey-modal" class="modal-overlay">
    <div class="modal-content survey-content">
        <button class="close-btn" onclick="closeModal('survey-modal')">&times;</button> 
        <h2>–û—Ç–∫—É–¥–∞ –≤—ã —É–∑–Ω–∞–ª–∏ –æ BeamTown?</h2>
        <div class="options-container survey-options">
            <button class="survey-btn" data-source="TikTok">–ò–∑ TikTok-—Ä–æ–ª–∏–∫–∞</button>
            <button class="survey-btn" data-source="Friend">–û—Ç –¥—Ä—É–≥–∞ / –∑–Ω–∞–∫–æ–º–æ–≥–æ</button>
            <button class="survey-btn" data-source="Random">–ù–∞—à–µ–ª(–∞) —Å–ª—É—á–∞–π–Ω–æ –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ</button>
        </div>
    </div>
</div>

<div id="quiz-modal" class="modal-overlay">
    <div class="modal-content quiz-content">
        <button class="close-btn" onclick="closeModal('quiz-modal')">&times;</button> 
        <h2>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –¢–µ—Å—Ç –Ω–∞ BeamNG –ó–Ω–∞–Ω–∏—è</h2>
        <div id="quiz-question-container">
            </div>
        <button id="next-quiz-btn">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
    </div>
</div>

<div id="gift-modal" class="modal-overlay">
    <div class="modal-content prediction-content" style="max-width: 500px; background: #263238;">
        <button class="close-btn" onclick="closeModal('gift-modal')">&times;</button> 
        <h2>‚ú® –í–∞—à –¢–∞–π–Ω—ã–π –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ü–æ–¥–∞—Ä–æ–∫! ‚ú®</h2>
        <p style="font-size: 1.1em; color: #b0bec5; margin-bottom: 25px;">
            –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º –∫–∞–Ω–∞–ª–µ –Ω–∞ –Ω–∞—à–µ–º Discord-—Å–µ—Ä–≤–µ—Ä–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—É—é —Ä–æ–ª—å –∏ –Ω–µ–±–æ–ª—å—à–æ–π —Å—é—Ä–ø—Ä–∏–∑!
        </p>
        <div id="secret-code" style="font-size: 2em; margin: 30px 0; padding: 15px; border: 3px solid #FFD700; background: #000; border-radius: 10px; color: #FFD700; font-weight: bold; text-shadow: 0 0 10px #FFD700;">
            NT-BEAMTOWN-2026
        </div>
        <p style="font-size: 0.9em; color: #cfd8dc;">
            –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –≤ –∫–∞–Ω–∞–ª **#–Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ-–ø–æ–¥–∞—Ä–∫–∏** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ BeamTown!
        </p>
    </div>
</div>
<div id="overlay">
    <div class="logo">BEAMTOWN</div>
    <div class="loading-line">–î–µ–¥—É—à–∫–∞ –ú–æ—Ä–æ–∑ –≥–æ—Ç–æ–≤–∏—Ç BeamTown –∫ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞–º<span class="dots">...</span></div>
    <div class="loading-line">–ù–∞—Å—ã–ø–∞–µ–º —Å–Ω–µ–≥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞<span class="dots">...</span></div>
    <div class="loading-line">–†–∞–∑–≤–µ—à–∏–≤–∞–µ–º –≥–∏—Ä–ª—è–Ω–¥—ã –∏ –º–∏—à—É—Ä—É<span class="dots">...</span></div>
    <div class="loading-line">–ì–æ—Ç–æ–≤–∏–º –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∏ –∏ —Å—é—Ä–ø—Ä–∏–∑—ã<span class="dots">...</span></div>
    <div class="loading-line">–°–∫–æ—Ä–æ –∑–∞—Å–∏—è–µ—Ç –Ω–æ–≤–æ–≥–æ–¥–Ω—è—è –º–∞–≥–∏—è<span class="dots">...</span></div>
</div>

<div id="main">
<canvas id="bg"></canvas>

<header>
    <div class="logo animated fade-up" style="animation-delay:0.2s;">BEAMTOWN</div>
    <h1 class="fade-up" style="animation-delay:0.5s;">BeamTown - –° –ù–æ–≤—ã–º –ì–æ–¥–æ–º!</h1>
    <p class="fade-up" style="animation-delay:0.8s;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π BeamTown Discord! –ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å –∫ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–º—É –≤–µ—Å–µ–ª—å—é, —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–º –ø–æ–¥–∞—Ä–∫–∞–º –∏ —Å–∞–º—ã–º —è—Ä–∫–∏–º —Å–æ–±—ã—Ç–∏—è–º –≥–æ–¥–∞. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É –¥—Ä—É–∂–Ω–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É –∏ –≤—Å—Ç—Ä–µ—á–∞–π—Ç–µ –ù–æ–≤—ã–π –ì–æ–¥ –≤–º–µ—Å—Ç–µ!</p>
    
    <h2 class="fade-up" style="animation-delay:1s; color:#e0f7fa; font-size:1.5em; margin-bottom: 5px;">–î–û –ù–û–í–û–ì–û –ì–û–î–ê –û–°–¢–ê–õ–û–°–¨:</h2>
    <div class="countdown fade-up" style="animation-delay:1.2s;" id="timer">
        </div>
    </header>

<section class="section fade-up" style="animation-delay:1.5s;">      
    <div class="card">üéÑ <strong>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –∫–æ–Ω–∫—É—Ä—Å—ã –∏ –ø–æ–¥–∞—Ä–∫–∏:</strong> —É—á–∞—Å—Ç–≤—É–π –∏ –≤—ã–∏–≥—Ä—ã–≤–∞–π —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –ø—Ä–∏–∑—ã!</div>
    <div class="card">üéÅ <strong>–¢–∞–π–Ω—ã–π –°–∞–Ω—Ç–∞ BeamTown:</strong> –æ–±–º–µ–Ω–∏–≤–∞–π—Å—è –ø–æ–¥–∞—Ä–∫–∞–º–∏ —Å –¥—Ä—É–∑—å—è–º–∏ –ø–æ –≤—Å–µ–º—É —Å–µ—Ä–≤–µ—Ä—É.</div>
    <div class="card">‚ùÑÔ∏è <strong>–ó–∏–º–Ω–∏–µ –≥–æ–Ω–∫–∏ –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è:</strong> –Ω–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –∏ —Ä–µ–∂–∏–º—ã –¥–ª—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.</div>
    <div class="card">üí¨ <strong>–ü—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ:</strong> –Ω–∞–π–¥–∏ –Ω–æ–≤—ã—Ö –¥—Ä—É–∑–µ–π –∏ –æ—Ç–º–µ—Ç—å –ù–æ–≤—ã–π –ì–æ–¥ –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏!</div>
    <div class="card">‚ú® <strong>–í–æ–ª—à–µ–±–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞:</strong> –æ–∫—É–Ω–∏—Å—å –≤ –º–∏—Ä –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–≥–æ –≤–µ—Å–µ–ª—å—è –∏ —Å—é—Ä–ø—Ä–∏–∑–æ–≤.</div>
    
    <div class="main-buttons">
        <a href="https://discord.gg/SXvWhTwC" target="_blank" class="btn btn-discord">
            <i class="fab fa-discord"></i> –ó–∞–π—Ç–∏ –≤ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π Discord!
        </a>
        <button id="open-gift-btn" class="btn btn-gift">
            <i class="fas fa-key"></i> –¢–∞–π–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫
        </button>
        <button id="open-quiz-btn" class="btn btn-quiz">BeamNG Drive –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</button>
    </div>
</section>

<section class="section fade-up" style="animation-delay:1.7s;"> <h2>‚öôÔ∏è –ö–æ–º–∞–Ω–¥–∞ BeamTown –∏ –ø—Ä–∞–≤–∏–ª–∞</h2>
    <div class="grid-container">
        <div class="grid-item">
            <h3>‚≠ê –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä: melo</h3>
            <p><strong>–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:</strong> –°–ª–µ–¥–∏—Ç –∑–∞ –ø–æ—Ä—è–¥–∫–æ–º –≤ –≥–æ–Ω–æ—á–Ω—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö, –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –∑–∏–º–Ω–∏–µ –∑–∞–µ–∑–¥—ã –∏ —Ä–µ—à–∞–µ—Ç —Å–ø–æ—Ä—ã.</p>
        </div>
        <div class="grid-item">
            <h3>üõ†Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: nexo</h3>
            <p><strong>–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:</strong> –£–ø—Ä–∞–≤–ª—è–µ—Ç RP-–∏–≤–µ–Ω—Ç–∞–º–∏, –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –±–∞–Ω-–ª–∏—Å—Ç.</p>
        </div>
        <div class="grid-item">
            <h3>üö® –ü—Ä–∞–≤–∏–ª–æ: RP-–ø–æ–≤–µ–¥–µ–Ω–∏–µ</h3>
            <p>–°—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞–π—Ç–µ RolePlay –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ—Ç–≤–µ–¥–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö. Non-RP –≤ RP-–∫–∞–Ω–∞–ª–∞—Ö –∑–∞–ø—Ä–µ—â–µ–Ω.</p>
        </div>
        <div class="grid-item">
            <h3>üö´ –ü—Ä–∞–≤–∏–ª–æ: –ó–∞–ø—Ä–µ—Ç —á–∏—Ç–æ–≤</h3>
            <p>–õ—é–±–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –ü–û, –¥–∞—é—â–µ–≥–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ, –≤–µ–¥–µ—Ç –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º—É –ø–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω–æ–º—É –±–∞–Ω—É.</p>
        </div>
    </div>
</section>
<section class="section fade-up" style="animation-delay:1.9s;">       <div class="under-construction">
        ‚ùÑÔ∏è –°–∞–π—Ç BeamTown —Å–∏—è–µ—Ç –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–π –º–∞–≥–∏–µ–π! –ú—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —Ñ–∏—à–∫–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.
    </div>
</section>

<footer>
    <div class="social-links">
        <a href="https://vk.com/id734541588" target="_blank" class="social-link vk-link">
            <i class="fab fa-vk social-icon"></i> –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
        </a>
        <a href="https://discord.gg/SXvWhTwC" target="_blank" class="social-link" style="background: #5865F2; color: white;">
            <i class="fab fa-discord social-icon"></i> Discord
        </a>
        <a href="#" target="_blank" class="social-link tg-link">
            <i class="fab fa-telegram-plane social-icon"></i> Telegram
        </a>
    </div>
    &copy; 2025 BeamTown Discord. –°—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞!
</footer>
</div>

<div id="yt-player" style="position: absolute; left: -9999px; top: -9999px;"></div>

<script>
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
</script>

<script>

// --- –§–£–ù–ö–¶–ò–Ø –ó–ê–ü–£–°–ö–ê –°–¢–†–ê–ù–ò–¶–´ ---
function initPage() {
    startCountdown(); // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
    stagedLoading();  // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –≤ –∏—Ç–æ–≥–µ –ø–æ–∫–∞–∂–µ—Ç —Å–∞–π—Ç
}

// --- –õ–û–ì–ò–ö–ê –°–ö–†–´–¢–ò–Ø OVERLAY (–≠–ö–†–ê–ù–ê –ó–ê–ì–†–£–ó–ö–ò) ---

/**
 * –ü–ª–∞–≤–Ω–æ —Å–∫—Ä—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç.
 */
function showMainContent() {
    const overlay = document.getElementById('overlay');
    const main = document.getElementById('main');
    
    // 1. –ü–ª–∞–≤–Ω–æ —Å–∫—Ä—ã–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ overlay. 
    overlay.style.opacity = '0'; 

    setTimeout(() => {
        // 2. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ —É–±–∏—Ä–∞–µ–º overlay.
        overlay.style.display = 'none'; // –£–±–∏—Ä–∞–µ–º overlay –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ
        main.style.display = 'block'; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –º—É–∑—ã–∫—É, —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–µ–ø–µ—Ä—å –≤–∏–¥–∏—Ç —Å–∞–π—Ç.
        startMusic(); 
    }, 700); // 700ms - –≤—Ä–µ–º—è, –ø–æ–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ overlay (—Ä–∞–≤–Ω–æ CSS transition)
}


function stagedLoading() {
    const lines = document.querySelectorAll('#overlay .loading-line');
    lines.forEach((line, index) => {
        // –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–∏–Ω–∏–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
        setTimeout(() => {
            line.classList.add('show');
            if (index === lines.length - 1) {
                // –ü–æ—Å–ª–µ –ø–æ–∫–∞–∑–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ª–∏–Ω–∏–∏, –∂–¥–µ–º –∏ –ø—Ä–æ—Å—Ç–æ —Å–∫—Ä—ã–≤–∞–µ–º overlay.
                setTimeout(showMainContent, 1500); 
            }
        }, index * 800); 
    });
}


// --- YOUTUBE –ú–£–ó–´–ö–ê–õ–¨–ù–´–ô –ü–õ–ï–ï–† –ò –£–ü–†–ê–í–õ–ï–ù–ò–ï –ó–í–£–ö–û–ú ---
let player;
let isMuted = true; 

function onYouTubeIframeAPIReady() {
    player = new YT.Player('yt-player', {
        height: '1',
        width: '1',
        videoId: 'Rnil5LyK_B0', 
        playerVars: {
            'autoplay': 0,
            'controls': 0, 
            'loop': 1, 
            'playlist': 'Rnil5LyK_B0', 
            'mute': 1, 
            'disablekb': 1,
            'fs': 0,
            'iv_load_policy': 3
        },
        events: {
            'onReady': onPlayerReady
        }
    });
}

function onPlayerReady(event) {
    const initialVolume = parseInt(document.getElementById('volume-slider').value);
    player.setVolume(initialVolume);
    
    document.getElementById('volume-slider').addEventListener('input', setVolumeFromSlider);
    
    document.getElementById('mute-btn').querySelector('i').className = 'fas fa-volume-mute';
}

function startMusic() {
    if (player && typeof player.playVideo === 'function') {
        if (isMuted) {
            player.unMute(); 
            isMuted = false;
            document.getElementById('mute-btn').querySelector('i').className = 'fas fa-volume-up';
        }
        player.playVideo(); 
    }
}

function setVolumeFromSlider() {
    const volume = parseInt(this.value);
    if (player && typeof player.setVolume === 'function') {
        player.setVolume(volume);
        if (volume > 0) {
            if (isMuted) {
                player.unMute();
                isMuted = false;
                player.playVideo(); 
            }
            document.getElementById('mute-btn').querySelector('i').className = 'fas fa-volume-up';
        } else {
            player.mute();
            isMuted = true;
            document.getElementById('mute-btn').querySelector('i').className = 'fas fa-volume-off';
        }
    }
}

function toggleMute() {
    if (!player || typeof player.isMuted !== 'function') return;

    if (isMuted) {
        // Unmute
        player.unMute();
        player.playVideo(); 
        isMuted = false;
        document.getElementById('mute-btn').querySelector('i').className = 'fas fa-volume-up';
        
        // –ï—Å–ª–∏ –≥—Ä–æ–º–∫–æ—Å—Ç—å –±—ã–ª–∞ –Ω–∞ 0, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –µ–µ –Ω–∞ 30
        const slider = document.getElementById('volume-slider');
        if (slider.value == 0) {
            slider.value = 30; 
            player.setVolume(30);
        }

    } else {
        // Mute
        player.mute();
        isMuted = true;
        document.getElementById('mute-btn').querySelector('i').className = 'fas fa-volume-mute';
    }
}


// --- JS –î–õ–Ø –¢–ê–ô–ú–ï–†–ê –û–ë–†–ê–¢–ù–û–ì–û –û–¢–°–ß–ï–¢–ê ---
function startCountdown() {
    const newYearDate = new Date("Jan 1, 2026 00:00:00").getTime(); 
    const timerElement = document.getElementById("timer");

    const updateTimer = setInterval(function() {
        const now = new Date().getTime();
        const distance = newYearDate - now;

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        timerElement.innerHTML = `
            <div>${days.toString().padStart(2, '0')}<span>–î–ù–ò</span></div>
            <div>${hours.toString().padStart(2, '0')}<span>–ß–ê–°–´</span></div>
            <div>${minutes.toString().padStart(2, '0')}<span>–ú–ò–ù–£–¢–´</span></div>
            <div>${seconds.toString().padStart(2, '0')}<span>–°–ï–ö–£–ù–î–´</span></div>
        `;

        if (distance < 0) {
            clearInterval(updateTimer);
            timerElement.innerHTML = `<div style="font-size:1.2em; color:#00ffcc;">–° –ù–û–í–´–ú –ì–û–î–û–ú, BEAMTOWN!</div>`;
        }
    }, 1000);
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö —Å–Ω–µ–∂–∏–Ω–æ–∫ 
function createSnowflake() {
  const snowflake = document.createElement('div');
  snowflake.classList.add('snowflake');
  snowflake.innerHTML = '‚ùÑ'; 
  snowflake.style.left = Math.random() * 100 + 'vw';
  snowflake.style.animationDuration = Math.random() * 3 + 7 + 's'; 
  snowflake.style.animationDelay = Math.random() * 5 + 's';
  snowflake.style.opacity = Math.random();
  snowflake.style.fontSize = Math.random() * 1.5 + 0.8 + 'em'; 
  document.body.appendChild(snowflake);

  snowflake.addEventListener('animationend', () => {
    snowflake.remove();
    createSnowflake(); 
  });
}

for (let i = 0; i < 50; i++) {
  createSnowflake();
}

// --- –õ–û–ì–ò–ö–ê –¢–ê–ô–ù–û–ì–û –ü–û–î–ê–†–ö–ê (–£–ù–ò–ö–ê–õ–¨–ù–´–ô –ö–û–î) ---
function generateUniqueCode() {
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—É—é —á–∞—Å—Ç—å: 5 —Å–ª—É—á–∞–π–Ω—ã—Ö —Ü–∏—Ñ—Ä + HEX-–º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏
    const randomPart = Math.floor(Math.random() * 99999).toString().padStart(5, '0');
    const timestampHex = new Date().getTime().toString(16).toUpperCase(); 
    return `BT-NY${randomPart}-${timestampHex.slice(-5)}`; // –ò—Å–ø–æ–ª—å–∑—É–µ–º —á–∞—Å—Ç—å HEX-–º–µ—Ç–∫–∏
}

function showGiftModal() {
    // 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏ –≤—Å—Ç–∞–≤–ª—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥
    const uniqueCode = generateUniqueCode();
    document.getElementById('secret-code').innerText = uniqueCode;

    // 2. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    document.getElementById('gift-modal').classList.add('show');
    startMusic(); 
}


// --- –õ–û–ì–ò–ö–ê –í–ò–ö–¢–û–†–ò–ù–´ –ü–û BEAMNG.DRIVE ---
const quizData = [
    {
        question: "–ö–∞–∫–æ–π –∏–∑ —ç—Ç–∏—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–º –º–∞—Å–ª–∫–∞—Ä–æ–º –≤ BeamNG.drive?",
        answers: [
            { text: "Burnside Special", isCorrect: false },
            { text: "Gavril Barstow", isCorrect: true },
            { text: "Ibishu Covet", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è BeamNG.drive –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –≤—Ä–µ–º—è –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫—Ä–∞—à–∞?",
        answers: [
            { text: "Free Cam", isCorrect: false },
            { text: "Slow-Motion", isCorrect: true },
            { text: "Replay Mode", isCorrect: false }
        ]
    },
    {
        question: "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–∫–æ–π –∫–∞—Ä—Ç—ã –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ '–í–æ—Å—Ç–æ—á–Ω–æ–µ –ü–æ–±–µ—Ä–µ–∂—å–µ –°–®–ê'?",
        answers: [
            { text: "Gridmap", isCorrect: false },
            { text: "Industrial Site", isCorrect: false },
            { text: "East Coast, USA", isCorrect: true }
        ]
    },
    {
        question: "–ö–∞–∫–∞—è –∫–ª–∞–≤–∏—à–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç '–∑–∞–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è' (Slow-Motion)?",
        answers: [
            { text: "J", isCorrect: false },
            { text: "Alt + –°—Ç—Ä–µ–ª–∫–∞ –≤–Ω–∏–∑", isCorrect: false },
            { text: "Ctrl + –°—Ç—Ä–µ–ª–∫–∞ –≤–Ω–∏–∑", isCorrect: true }
        ]
    },
    {
        question: "–ö–∞–∫–∞—è –∫–ª–∞–≤–∏—à–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ '–†—É—á–Ω–æ–π —Ç–æ—Ä–º–æ–∑' (Handbrake)?",
        answers: [
            { text: "–ü—Ä–æ–±–µ–ª (Space)", isCorrect: true },
            { text: "Shift", isCorrect: false },
            { text: "Z", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –≤ BeamNG —è–≤–ª—è–µ—Ç—Å—è –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º —è–ø–æ–Ω—Å–∫–∏–º —Ö—ç—Ç—á–±–µ–∫–æ–º?",
        answers: [
            { text: "Bruckell LeGran", isCorrect: false },
            { text: "Ibishu Covet", isCorrect: true },
            { text: "Soliad Wendover", isCorrect: false }
        ]
    },
    {
        question: "–ß—Ç–æ –≤ BeamNG.drive –æ–∑–Ω–∞—á–∞–µ—Ç –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ 'JBEAM'?",
        answers: [
            { text: "–ù–∞–∑–≤–∞–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞", isCorrect: false },
            { text: "–°–∏—Å—Ç–µ–º–∞ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –º—è–≥–∫–∏—Ö —Ç–µ–ª (Soft-body physics)", isCorrect: true },
            { text: "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–∞—è –∫–∞—Ä—Ç–∞ –±—ã–ª–∞ —Å–∞–º–æ–π –ø–µ—Ä–≤–æ–π –≤ –∏–≥—Ä–µ?",
        answers: [
            { text: "Industrial Site", isCorrect: false },
            { text: "Grid Map", isCorrect: true },
            { text: "West Coast, USA", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø–∏–∫–∞–ø–æ–º (—Ç—Ä–∞–∫–æ–º)?",
        answers: [
            { text: "Gavril Roamer", isCorrect: false },
            { text: "Gavril D-Series", isCorrect: true },
            { text: "Ibishu Pessima", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–∞—è –∫–ª–∞–≤–∏—à–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–±—Ä–æ—Å–∏—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –≤ –µ–≥–æ –ø–æ—Å–ª–µ–¥–Ω—é—é —Ç–æ—á–∫—É?",
        answers: [
            { text: "Insert", isCorrect: true },
            { text: "F9", isCorrect: false },
            { text: "Home", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–æ–π —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –æ—Å—Ç—Ä–æ–≤–Ω–æ–π —Ä–µ–≥–∏–æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∏–≥—Ä–µ?",
        answers: [
            { text: "Industrial Site", isCorrect: false },
            { text: "Italy", isCorrect: true },
            { text: "Jungle Rock Island", isCorrect: false }
        ]
    },
    {
        question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä 'Drivetrain' (–ü—Ä–∏–≤–æ–¥)?",
        answers: [
            { text: "–¢–∏–ø —à–∏–Ω", isCorrect: false },
            { text: "–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤–µ–¥—É—â–∏—Ö –∫–æ–ª—ë—Å", isCorrect: true },
            { text: "–¢–∏–ø –ø–æ–¥–≤–µ—Å–∫–∏", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–∞—è –∫–ª–∞–≤–∏—à–∞ –≤–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç '–°–≤–æ–±–æ–¥–Ω—É—é –∫–∞–º–µ—Ä—É' (Free Cam)?",
        answers: [
            { text: "F4", isCorrect: false },
            { text: "Shift + C", isCorrect: false },
            { text: "Shift + C (–∏–ª–∏ F7)", isCorrect: true }
        ]
    },
    {
        question: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª?",
        answers: [
            { text: "Torque Control", isCorrect: false },
            { text: "Diff Lock", isCorrect: true },
            { text: "Stability Control", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ—Å–∏—Ç –≥–æ–Ω–æ—á–Ω—ã–π —Å–µ–¥–∞–Ω —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞?",
        answers: [
            { text: "Hirochi SBR4", isCorrect: false },
            { text: "ETK 800 Series", isCorrect: true },
            { text: "Civetta Bolide", isCorrect: false }
        ]
    },
    {
        question: "–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –Ω–∞–∂–∞—Ç—å 'Q'?",
        answers: [
            { text: "–í–∫–ª—é—á–∏—Ç—Å—è –∑–∞–∂–∏–≥–∞–Ω–∏–µ", isCorrect: false },
            { text: "–ê–≤—Ç–æ–º–æ–±–∏–ª—å '–ø–æ–¥–ø—Ä—ã–≥–Ω–µ—Ç'", isCorrect: true },
            { text: "–í–∫–ª—é—á–∏—Ç—Å—è —Ä—É—á–Ω–æ–π —Ç–æ—Ä–º–æ–∑", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–æ–π —Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π 'Wentward Bus'?",
        answers: [
            { text: "–®–∫–æ–ª—å–Ω—ã–π –∞–≤—Ç–æ–±—É—Å", isCorrect: false },
            { text: "–ì–æ—Ä–æ–¥—Å–∫–æ–π/–ø—Ä–∏–≥–æ—Ä–æ–¥–Ω—ã–π –∞–≤—Ç–æ–±—É—Å", isCorrect: true },
            { text: "–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–≤—Ç–æ–±—É—Å", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å —è–≤–ª—è–µ—Ç—Å—è —Å—É–ø–µ—Ä–∫–∞—Ä–æ–º –∏–∑ 70-—Ö –≥–æ–¥–æ–≤?",
        answers: [
            { text: "Bruckell LeGran", isCorrect: false },
            { text: "Civetta Bolide", isCorrect: true },
            { text: "Hirochi Sunburst", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–æ–π —Ä–µ–∂–∏–º –∏–≥—Ä—ã –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –¥–æ—Å—Ç–∞–≤–∫—É –≥—Ä—É–∑–æ–≤ –Ω–∞ –≤—Ä–µ–º—è?",
        answers: [
            { text: "Time Trial", isCorrect: false },
            { text: "Missions / Scenarios", isCorrect: true },
            { text: "Chase Mode", isCorrect: false }
        ]
    },
    {
        question: "–î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ–Ω—é 'Parts Editor' (Ctrl+W)?",
        answers: [
            { text: "–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã", isCorrect: false },
            { text: "–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ—Ç–∞–ª–µ–π –∏ —Ç—é–Ω–∏–Ω–≥–∞ –∞–≤—Ç–æ", isCorrect: true },
            { text: "–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤—ã—Ö –∫–∞—Ä—Ç", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–∞—è –∫–ª–∞–≤–∏—à–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ—á–∏–Ω–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å (Reset Vehicle)?",
        answers: [
            { text: "R", isCorrect: true },
            { text: "P", isCorrect: false },
            { text: "F5", isCorrect: false }
        ]
    },
    {
        question: "–ö–∞–∫–æ–π –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π —Å–ø–æ—Ä—Ç–∫–∞—Ä –∏–º–µ–µ—Ç —Ç—É—Ä–±–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–ø–ø–æ–∑–∏—Ç–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å?",
        answers: [
            { text: "Civetta Bolide", isCorrect: false },
            { text: "Hirochi SBR4", isCorrect: true },
            { text: "ETK K-Series", isCorrect: false }
        ]
    }
];

let currentQuestionIndex = 0;
let score = 0;
let quizAnswered = false; 

const quizModal = document.getElementById('quiz-modal');
const quizQuestionContainer = document.getElementById('quiz-question-container');
const nextQuizBtn = document.getElementById('next-quiz-btn');
const snowTransition = document.getElementById('snow-transition'); 

function showQuestion(index) {
    const q = quizData[index];
    quizQuestionContainer.innerHTML = `
        <h3>–í–æ–ø—Ä–æ—Å ${index + 1} –∏–∑ ${quizData.length}: ${q.question}</h3>
        <div class="options-container quiz-options">
            ${q.answers.map((ans, i) => 
                `<button data-correct="${ans.isCorrect}" data-index="${i}">${ans.text}</button>`
            ).join('')}
        </div>
    `;
    nextQuizBtn.style.display = 'none';
    quizAnswered = false;
    attachQuizListeners();
}

function attachQuizListeners() {
    const buttons = quizQuestionContainer.querySelectorAll('button');
    buttons.forEach(button => {
        button.addEventListener('click', handleAnswerClick);
    });
}

function handleAnswerClick(event) {
    if (quizAnswered) return;
    
    quizAnswered = true;
    startMusic(); 

    const selectedButton = event.target;
    const isCorrect = selectedButton.dataset.correct === 'true';

    if (isCorrect) {
        selectedButton.classList.add('correct');
        score++;
    } else {
        selectedButton.classList.add('incorrect');
        quizQuestionContainer.querySelector('button[data-correct="true"]').classList.add('correct');
    }

    quizQuestionContainer.querySelectorAll('button').forEach(btn => btn.classList.add('disabled'));
    nextQuizBtn.style.display = 'block';
}

function showQuizResult() {
    quizQuestionContainer.innerHTML = `
        <h3>–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!</h3>
        <p style="font-size:1.4em;">–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <strong>${score} –∏–∑ ${quizData.length}</strong></p>
        <p style="color:#00ffcc; font-size:1.2em;">
            ${score === quizData.length ? 'üëë –ê–±—Å–æ–ª—é—Ç–Ω–æ –±–µ–∑—É–ø—Ä–µ—á–Ω–æ! –í—ã ‚Äî –≥–ª–∞–≤–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç BeamNG!' : 
             score >= 20 ? 'üî• –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –í—ã –∑–Ω–∞–µ—Ç–µ BeamNG –∫–∞–∫ —Å–≤–æ–∏ –ø—è—Ç—å –ø–∞–ª—å—Ü—ã.' : 
             score >= 10 ? '‚≠ê –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –£ –≤–∞—Å —Ö–æ—Ä–æ—à–∏–µ –∑–Ω–∞–Ω–∏—è –∏–≥—Ä—ã.' : 
             'üßê –ü–æ—Ö–æ–∂–µ, –≤–∞–º –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∑–∞ —Ä—É–ª–µ–º!'
            }
        </p>
        <button onclick="closeModal('quiz-modal')" style="background:#673ab7; color:white; margin-top:20px;">–ó–∞–∫—Ä—ã—Ç—å</button>
    `;
    nextQuizBtn.style.display = 'none';
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å"
nextQuizBtn.onclick = () => {
    currentQuestionIndex++;
    if (currentQuestionIndex < quizData.length) {
        showQuestion(currentQuestionIndex);
    } else {
        showQuizResult();
    }
};

// --- –§–£–ù–ö–¶–ò–ò –û–¢–ö–†–´–¢–ò–Ø/–ó–ê–ö–†–´–¢–ò–Ø –ú–û–î–ê–õ–¨–ù–´–• –û–ö–û–ù ---

function closeModal(id) {
    const modal = document.getElementById(id);
    modal.style.opacity = 0;
    modal.style.transform = 'scale(1.2)';
    setTimeout(() => {
        modal.classList.remove('show');
        modal.style.opacity = 0;
        modal.style.transform = 'scale(0.8)'; 
    }, 700);
}

// –õ–æ–≥–∏–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–ø—Ä–æ—Å–∞
function showSurvey() {
    const surveyModal = document.getElementById('survey-modal');
    surveyModal.classList.add('show');

    document.querySelectorAll('.survey-btn').forEach(button => {
        button.addEventListener('click', (event) => {
            console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –∏—Å—Ç–æ—á–Ω–∏–∫:", event.target.getAttribute('data-source'));
            startMusic();
            closeModal('survey-modal');
        });
    });
}


// --- –õ–û–ì–ò–ö–ê –ú–ï–¢–ï–õ–ò ---

const TRANSITION_DURATION = 4000; 

function createBlizzardFlake() {
    const flake = document.createElement('div');
    flake.classList.add('blizzard-flake');
    flake.innerHTML = ['‚ùÖ', '‚ùÑ', '‚ùÜ', '‚Ä¢'][Math.floor(Math.random() * 4)]; 
    
    flake.style.left = Math.random() * 100 + 'vw';
    flake.style.top = -Math.random() * 50 + 'vh'; 
    flake.style.fontSize = Math.random() * 6 + 3 + 'em'; 
    flake.style.animationDuration = Math.random() * 1 + 4 + 's'; 
    flake.style.animationDelay = Math.random() * (TRANSITION_DURATION / 1000) * 0.9 + 's'; 
    
    snowTransition.appendChild(flake);
}

/**
 * –ó–∞–ø—É—Å–∫–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç –º–µ—Ç–µ–ª–∏ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç callback –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.
 * @param {function} callback - –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –º–µ—Ç–µ–ª–∏.
 */
function startBlizzardTransition(callback) {
    snowTransition.innerHTML = '';
    snowTransition.classList.remove('fade-out');
    snowTransition.classList.add('active');
    
    // –ó–∞–ø—É—Å–∫ —Å–Ω–µ–∂–∏–Ω–æ–∫
    const numFlakes = 150; 
    for (let i = 0; i < numFlakes; i++) {
        createBlizzardFlake();
    }
    
    // 1. –û–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –º–µ—Ç–µ–ª–∏
    setTimeout(() => {
        snowTransition.classList.add('fade-out');
        
        // 2. –í—ã–∑—ã–≤–∞–µ–º callback (–ø–æ–∫–∞–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞)
        if (callback) {
            callback();
            // –°–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º, —á—Ç–æ–±—ã —ç—Ñ—Ñ–µ–∫—Ç –±—ã–ª –∑–∞–º–µ—Ç–Ω–µ–µ
            document.querySelector('.modal-overlay.show .modal-content').style.opacity = '0'; 
            setTimeout(() => {
                 document.querySelector('.modal-overlay.show .modal-content').style.opacity = '1';
                 document.querySelector('.modal-overlay.show .modal-content').style.transition = 'opacity 0.5s ease-in';
            }, 300); 
        }
        
        // 3. –û—á–∏—â–∞–µ–º DOM –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
        setTimeout(() => {
            snowTransition.innerHTML = ''; 
            snowTransition.classList.remove('active');
            
        }, 1200); 
        
    }, TRANSITION_DURATION); 
}

// –ì–õ–ê–í–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö –ö–ù–û–ü–ö–ò –í–ò–ö–¢–û–†–ò–ù–´ (–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–µ–ª—å)
document.getElementById('open-quiz-btn').onclick = () => {
    startBlizzardTransition(() => {
        currentQuestionIndex = 0; 
        score = 0;
        showQuestion(currentQuestionIndex); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
        document.getElementById('quiz-modal').classList.add('show');
    });
};

// –û–ë–†–ê–ë–û–¢–ß–ò–ö –ö–ù–û–ü–ö–ò –ü–û–î–ê–†–ö–ê (–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–µ–ª—å)
document.getElementById('open-gift-btn').onclick = () => {
    startBlizzardTransition(() => {
        showGiftModal(); 
    });
};

</script>
</body>
</html>